<div class="table-responsive overflow-y-hidden">
	<table class="table mb-0 text-nowrap table-hover table-centered text-nowrap">
		<thead class="table-light">
			<tr>
				<th>{{ 'Recipe'|trans }}</th>
                {% if is_granted('ROLE_ADMIN_APPLICATION') %}
                    <th>{{ 'Restaurant'|trans }}</th>
                {% endif %}
				<th>{{ 'Category'|trans }}</th>
				<th>{{ 'Rating'|trans }}</th>
                <th>{{ 'Sales'|trans}}</th>
				<th>{{ 'Status'|trans }}</th>
                <th>{{ 'Attendance'|trans}}</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			{% for recipe in rows %}
                <tr>
                    <td>
                        {% set link = path('dashboard_restaurant_recipe_edit', { slug : recipe.slug }) %}
                        <div class="d-flex align-items-center">
                            <div>
                                <a href="{{ path('recipe', { slug : recipe.slug }) }}" target="_blank">
                                    <img src="{{ recipe.imageName ? asset(recipe.getImagePath) : recipe.getImagePlaceholder }}" alt="{{ recipe.title }}" class="rounded img-4by3-lg">
                                </a>
                            </div>
                            <div class="ms-3">
                                <h4 class="mb-1 h5">
                                    <a href="{{ path('recipe', { slug : recipe.slug }) }}" target="_blank" class="text-inherit">
                                        {{ recipe.title }}
                                    </a>
                                </h4>
                                <ul class="list-inline fs-6 mb-0">
                                    <li class="list-inline-item">
                                        <span class="align-text-bottom">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-clock" viewbox="0 0 16 16">
                                                <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path>
                                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"></path>
                                            </svg>
                                        </span>
                                        <span>{{ recipe.duration }}</span>
                                    </li>
                                    <li class="list-inline-item">
                                        <svg class="me-1 mt-n1" width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="3" y="8" width="2" height="6" rx="1" fill="#754FFE"></rect>
                                            <rect x="7" y="5" width="2" height="9" rx="1" fill="#DBD8E9"></rect>
                                            <rect x="11" y="2" width="2" height="12" rx="1" fill="#DBD8E9"></rect>
                                        </svg>
                                        #{{ recipe.reference }}
                                    </li>
                                    <li class="list-inline-item">
                                        <svg class="me-1 mt-n1" width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="3" y="8" width="2" height="6" rx="1" fill="#754FFE"></rect>
                                            <rect x="7" y="5" width="2" height="9" rx="1" fill="#DBD8E9"></rect>
                                            <rect x="11" y="2" width="2" height="12" rx="1" fill="#DBD8E9"></rect>
                                        </svg>
                                        Beginner
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </td>
                    {% if is_granted('ROLE_ADMIN_APPLICATION') %}
                        <td>
                            <a href="{{ path('restaurant', { slug : recipe.restaurant.slug }) }}" target="_blank" class="text-inherit" data-toggle="tooltip" title="{{ "View restaurant"|trans }}">{{ recipe.restaurant.name }}</a>
                        </td>
                    {% endif %}
                    <td>
                        <span class="text-decoration-none" style="color: {{ recipe.category.color | default('') }}">
                            {{ recipe.category.name | default('') }}
                        </span>
                    </td>
                    <td>
                        <span class="lh-1">
                            <span class="text-warning">4.5</span>
                            <span class="mx-1 align-text-top">
                                <svg xmlns="http://www.w3.org/2000/svg" width="11" height="11" fill="currentColor" class="bi bi-star-fill text-warning" viewbox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                </svg>
                            </span>
                            (3,250)
                        </span>
                    </td>
                    <td>

                    </td>
                    <td>
                        {% if recipe.isOnline == false %}
                            <span class="badge bg-danger-soft">
                                <i class="bi bi-eye-slash"></i> {{ "Offline"|trans }}
                            </span>
                        {% else %}
                            <span class="badge bg-success-soft">
                                <i class="bi bi-eye"></i> {{ "Online"|trans }}
                            </span>
                        {% endif %}
                        <span class="badge bg-danger-{{ recipe.stringifyStatusClass }}-soft">{{ recipe.stringifyStatus|trans }}</span>
                        {% if recipe.deletedAt %}
                            <span class="badge bg-danger-soft">
                                <i class="bi bi-alarm"></i> {{ "Deleted"|trans }}
                            </span>
                        {% endif %}
                    </td>
                    <td>
                        <span class="dropdown dropstart">
                            <a class="btn-icon btn btn-ghost btn-sm rounded-circle" href="#" role="button" id="Dropdown1" data-bs-toggle="dropdown" data-bs-offset="-20,20" aria-expanded="false">
                                <i class="bi bi-three-dots-vertical"></i>
                            </a>
                            <span class="dropdown-menu" aria-labelledby="Dropdown1" style="">
                                <span class="dropdown-header">{{ 'Settings'|trans }}</span>
                                <a class="dropdown-item" href="{{ path('recipe_show', {slug : recipe.slug, id : recipe.id}) }}">
                                    <i class="bi bi-eye dropdown-item-icon"></i>
                                    {{ 'Show'|trans }}
                                </a>
                                <a class="dropdown-item" href="{{ link }}">
                                    <i class="bi bi-pencil dropdown-item-icon"></i>
                                    {{ 'Edit'|trans }}
                                </a>
                                {{ include('dashboard/shared/recipe/_delete_form.html.twig', {recipe: recipe}, with_context = false) }}
                            </span>
                        </span>
                    </td>
                </tr>
			{% endfor %}
		</tbody>
	</table>
	<div class="card-footer">
		{{ knp_pagination_render(rows, null, {}, {'align': 'center'}) }}
	</div>
</div>
