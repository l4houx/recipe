{% if recipeDate is defined %}
	{% set displayedRecipeDate = recipeDate %}
{% else %}
    {# {% set displayedRecipeDate = recipe.getFirstOnSaleRecipeDate %} #}
    {% set displayedRecipeDate = '' %}
{% endif %}

{% if customLink is defined %}
	{% set link = customLink %}
{% else %}
	{% set link = path('recipe', { slug : recipe.slug }) %}
{% endif %}

<div class="col-lg-4 col-md-6 col-12">
	<div class="card mb-4 card-hover">
		{% if noLazyLoad is defined %}
			<a href="{{ link }}">
				<img src="{{ recipe.imageName ? asset(recipe.getImagePath) : recipe.getImagePlaceholder }}" alt="{{ recipe.title }}" class="card-img-top">
			</a>
		{% else %}
			<a href="{{ link }}">
				<img src="{{ recipe.imageName ? asset(recipe.getImagePath) : recipe.getImagePlaceholder }}" alt="{{ recipe.title }}" class="card-img-top">
			</a>
		{% endif %}
		<div class="card-body">
			<h4 class="mb-2 text-truncate-line-2">
				<a href="{{ link }}" class="text-inherit">{{ recipe.title }}</a>
			</h4>
			<ul class="mb-3 list-inline">
				<li class="list-inline-item">
					<span>
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-clock align-baseline" viewbox="0 0 16 16">
							<path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path>
							<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"></path>
						</svg>
					</span>
					<span>{{ recipe.duration }}</span>
				</li>
				<li class="list-inline-item">
					<svg class="me-1 mt-n1" width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
						<rect x="3" y="8" width="2" height="6" rx="1" fill="#754FFE"></rect>
						<rect x="7" y="5" width="2" height="9" rx="1" fill="#DBD8E9"></rect>
						<rect x="11" y="2" width="2" height="12" rx="1" fill="#DBD8E9"></rect>
					</svg>
					Beginner
				</li>
			</ul>
			<div class="lh-1">
				<span class="align-text-top">
					<span class="fs-6">
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-star-fill text-warning" viewbox="0 0 16 16">
							<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-star-fill text-warning" viewbox="0 0 16 16">
							<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-star-fill text-warning" viewbox="0 0 16 16">
							<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-star-fill text-warning" viewbox="0 0 16 16">
							<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
						</svg>
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-star-fill text-warning" viewbox="0 0 16 16">
							<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
						</svg>
					</span>
				</span>
				<span class="text-warning">4.5</span>
				<span class="fs-6">(7,700)</span>
			</div>
		</div>
		<div class="card-footer">
			<div class="row align-items-center g-0">
				<div class="col-auto">
                    <img src="{{ asset('images/user/default.png') }}" class="rounded-circle avatar-xs" alt="">
				</div>
				<div class="col ms-2">
					<span>
                        {{ 'Author'|trans }}
						Claire Robertson
                    </span>
				</div>
				{% if (not is_granted('IS_AUTHENTICATED_REMEMBERED') or is_granted('ROLE_CREATOR')) and hideFavoriteButton is not defined %}
					<div class="col-auto">
						{% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
							{% if recipe.isAddedToFavoritesBy(app.user) %}
								<a href="{{ path('dashboard_creator_favorites_remove', { slug : recipe.slug }) }}" class="text-reset bookmark" bs-data-toggle="tooltip" title="{{ "Remove from favorites"|trans }}">
									<i class="bi bi-heart-fill fs-4"></i>
								</a>
							{% else %}
								<a href="{{ path('dashboard_creator_favorites_new', { slug : recipe.slug }) }}" class="text-reset bookmark" bs-data-toggle="tooltip" title="{{ "Add to favorites"|trans }}">
									<i class="bi bi-heart fs-4"></i>
								</a>
							{% endif %}
						{% else %}
							<a href="{{ path('login')~'?_target_path='~app.request.getPathInfo }}" class="text-reset bookmark" bs-data-toggle="tooltip" title="{{ "Add to favorites"|trans }}">
								<i class="bi bi-heart fs-4"></i>
							</a>
						{% endif %}
					</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>
