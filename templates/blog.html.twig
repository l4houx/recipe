{% extends 'base.html.twig' %}

{% block layout %}{{ parent() }} blog{% endblock %}

{% block title pagetitle %}

{% block body %}
    {% block header %}
        {% include "global/_header.html.twig" %}
    {% endblock %}
    <main>
        {% block pageheader %}
            <section class="py-7">
                <div class="container">
                    <div class="row">
                        <div class="offset-xl-2 col-xl-8 offset-lg-1 col-lg-10 col-md-12 col-12">
                            <div class="text-center mb-5">
                                <h1 class="display-2 fw-bold">{{ pagetitle }}</h1>
                                <p class="lead">
                                    {{ "%resultsCount% post(s) found"|trans({'%resultsCount%': rows.getTotalItemCount}) }}
                                </p>
                            </div>
                            {#  
                            <form class="row px-md-8 mx-md-8 needs-validation" novalidate="">
                                <div class="mb-3 col ps-0 ms-2 ms-md-0">
                                    <input type="email" class="form-control relay-email-input-with-button-hovered" placeholder="Email Address" required="">
                                </div>
                                <div class="mb-3 col-auto ps-0">
                                    <button class="btn btn-primary" type="submit">Submit</button>
                                </div>
                            </form>
                            #}
                        </div>
                    </div>
                </div>
            </section>
        {% endblock %}
        {% block breadcrumb '' %}
        <section class="pb-8">
            <div class="container mb-lg-8">
                <div class="row">
                    <div class="col-lg-8 col-md-7 col-12">
                        <div class="row">
                            {% if rows.getTotalItemCount > 0 %}
                                {% for post in rows %}
                                    {% include "global/post-card.html.twig" with {post: post, showdate: 1} only %}
                                {% endfor %}
                            {% else %}
                                {% include "global/message.html.twig" with { type: "info", message: ('Article no found'|trans), icon: "bi bi-exclamation-circle" } %}
                            {% endif %}
                            <div class="col-xl-12 col-lg-12 col-md-12 col-12 my-4">
                                {{ knp_pagination_render(rows, null, {}, {'align': 'center'}) }}
                            </div>
                        </div>
                    </div>
                    {% block sidebar %}
                        <div class="col-lg-4 col-md-5 col-12 mt-6 mt-md-0">
                            {{ render_esi(controller(
                                'App\\Controller\\BlogController::featuredContent',
                                { 'maxResults': 3 }
                            )) }}
                        </div>
                    {% endblock %}
                </div>
            </div>
        </section>
    </main>
    {% block footer %}
        {% include "global/_footer-2.html.twig" %}
    {% endblock %}
{% endblock %}
